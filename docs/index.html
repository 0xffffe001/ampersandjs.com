<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Ampersand.js, Javascript, ampersand, Node.js, Apps, HTML5">
    <meta name="author" content="Get started with Ampersand.js">
    <title>Ampersand.js - Documentation</title>
    <link rel="stylesheet" href="//cloud.typography.com/7773252/613684/css/fonts.css">
    <link rel="stylesheet" href="/static/css/plugins/normalize.css">
    <link rel="stylesheet" href="/static/css/main.css">
  </head>
  <body>
    <nav class="nav-main cf"><a href="/" class="logo logo-ampersand">Ampersand.js</a><a href="/learn" class="nav-item">Learn</a><a href="/docs" class="nav-item">Docs</a><a href="http://tools.ampersandjs.com" class="nav-item">Find Modules</a><a href="/contribute" class="nav-item">Contribute</a><a href="/docs" class="button button-primary">Get Started</a></nav>
    <div class="docs cf">
      <nav class="nav-docs"><a href="#getting-started" class="section-top">Getting Started</a><a href="#ampersand" class="section-top">ampersand.js app scaffolding</a><a href="#ampersand-defaults" class="section-sub">Defaults</a><a href="#ampersand-changelog" class="section-sub">Changelog</a><a href="#ampersand-state" class="section-top">ampersand-state</a><a href="#ampersand-state-install" class="section-sub">Install</a><a href="#ampersand-state-api-reference" class="section-sub">API Reference</a><a href="#ampersand-state-extend-codeampersandstateextend-code" class="section-sub-sub">extend <code>AmpersandState.extend({ })</code></a><a href="#ampersand-state-constructorinitialize-codenew-ampersandstateattrs-optionscode" class="section-sub-sub">constructor/initialize <code>new AmpersandState([attrs], [options])</code></a><a href="#ampersand-state-extraproperties-codeampersandstateextend-extraproperties-39allow39-code" class="section-sub-sub">extraProperties <code>AmpersandState.extend({ extraProperties: &#39;allow&#39; })</code></a><a href="#ampersand-state-datatypes" class="section-sub-sub">dataTypes</a><a href="#ampersand-state-props-codeampersandviewextend-props-name-39string39-code" class="section-sub-sub">props <code>AmpersandView.extend({ props: { name: &#39;string&#39; } })</code></a><a href="#ampersand-state-session-codeampersandviewextend-session-name-39string39-code" class="section-sub-sub">session <code>AmpersandView.extend({ session: { name: &#39;string&#39; } })</code></a><a href="#ampersand-state-derived" class="section-sub-sub">derived</a><a href="#ampersand-state-children-codeampersandstateextend-children-profile-profile-code" class="section-sub-sub">children <code>AmpersandState.extend({ children: { profile: Profile } })</code></a><a href="#ampersand-state-parse" class="section-sub-sub">parse</a><a href="#ampersand-state-serialize-codestateserializecode" class="section-sub-sub">serialize <code>state.serialize()</code></a><a href="#ampersand-state-get-codestategetattribute-stateattribute-statefirstnamecode" class="section-sub-sub">get <code>state.get(attribute); state[attribute]; state.firstName</code></a><a href="#ampersand-state-set-codestatesetattributes-options-statefirstname-39henrik39code" class="section-sub-sub">set <code>state.set(attributes, [options]); state.firstName = &#39;Henrik&#39;;</code></a><a href="#ampersand-state-unset-codestateunsetattribute-optionscode" class="section-sub-sub">unset <code>state.unset(attribute, [options])</code></a><a href="#ampersand-state-toggle-codestatetoggle39active39code" class="section-sub-sub">toggle <code>state.toggle(&#39;active&#39;)</code></a><a href="#ampersand-state-previousattributes-codestatepreviousattributescode" class="section-sub-sub">previousAttributes <code>state.previousAttributes()</code></a><a href="#ampersand-state-haschanged-codestatehaschangedattributecode" class="section-sub-sub">hasChanged <code>state.hasChanged([attribute])</code></a><a href="#ampersand-state-changedattributes-codestatechangedattributesobjecttodiffcode" class="section-sub-sub">changedAttributes <code>state.changedAttributes([objectToDiff])</code></a><a href="#ampersand-state-tojson-codestatetojsoncode" class="section-sub-sub">toJSON <code>state.toJSON()</code></a><a href="#ampersand-state-changelog" class="section-sub">Changelog</a><a href="#ampersand-model" class="section-top">ampersand-model</a><a href="#ampersand-model-installing" class="section-sub">Installing</a><a href="#ampersand-model-api-reference" class="section-sub">API Reference</a><a href="#ampersand-model-idattribute-codemodelidattributecode" class="section-sub-sub">idAttribute <code>model.idAttribute</code></a><a href="#ampersand-model-namespaceattribute" class="section-sub-sub">namespaceAttribute</a><a href="#ampersand-model-typeattribute" class="section-sub-sub">typeAttribute</a><a href="#ampersand-model-getid-codemodelgetidcode" class="section-sub-sub">getId <code>model.getId()</code></a><a href="#ampersand-model-getnamespace-codemodelgetnamespacecode" class="section-sub-sub">getNamespace <code>model.getNamespace()</code></a><a href="#ampersand-model-gettype-codemodelgettypecode" class="section-sub-sub">getType <code>model.getType()</code></a><a href="#ampersand-model-constructorinitialize" class="section-sub-sub">constructor/initialize</a><a href="#ampersand-model-collection" class="section-sub-sub">collection</a><a href="#ampersand-model-registry" class="section-sub-sub">registry</a><a href="#ampersand-model-cid-codemodelcidcode" class="section-sub-sub">cid <code>model.cid</code></a><a href="#ampersand-model-save-codemodelsaveattributes-optionscode" class="section-sub-sub">save <code>model.save([attributes], [options])</code></a><a href="#ampersand-model-fetch-codemodelfetchoptionscode" class="section-sub-sub">fetch <code>model.fetch([options])</code></a><a href="#ampersand-model-destroy-codemodeldestroyoptionscode" class="section-sub-sub">destroy <code>model.destroy([options])</code></a><a href="#ampersand-model-sync-codemodelsyncmethod-model-optionscode" class="section-sub-sub">sync <code>model.sync(method, model, [options])</code></a><a href="#ampersand-model-remove" class="section-sub-sub">remove</a><a href="#ampersand-model-isnew-codemodelisnewcode" class="section-sub-sub">isNew <code>model.isNew()</code></a><a href="#ampersand-model-url-codemodelurlcode" class="section-sub-sub">url <code>model.url()</code></a><a href="#ampersand-model-urlroot-codemodelurlroot-or-modelurlrootcode" class="section-sub-sub">urlRoot <code>model.urlRoot or model.urlRoot()</code></a><a href="#ampersand-model-escape" class="section-sub-sub">escape</a><a href="#ampersand-model-addlistval" class="section-sub-sub">addListVal</a><a href="#ampersand-model-removelistval" class="section-sub-sub">removeListval</a><a href="#ampersand-model-haslistval" class="section-sub-sub">hasListVal</a><a href="#ampersand-model-isvalid-codemodelisvalidcode" class="section-sub-sub">isValid <code>model.isValid()</code></a><a href="#ampersand-collection" class="section-top">ampersand-collection</a><a href="#ampersand-collection-installation" class="section-sub">Installation</a><a href="#ampersand-collection-api-reference" class="section-sub">API Reference</a><a href="#ampersand-collection-extend-codeampersandcollectionextendattributescode" class="section-sub-sub">extend <code>AmpersandCollection.extend([attributes])</code></a><a href="#ampersand-collection-constructorinitialize-codenew-ampersandcollectionmodelsarray-optionscode" class="section-sub-sub">constructor/initialize <code>new AmpersandCollection([modelsArray], [options])</code></a><a href="#ampersand-collection-model-codecollectionmodelcode" class="section-sub-sub">model <code>collection.model</code></a><a href="#ampersand-collection-mainindex-collectionmainindex" class="section-sub-sub">mainIndex `collection.mainIndex</a><a href="#ampersand-collection-indexes-codecollectionsindexescode" class="section-sub-sub">indexes <code>collections.indexes</code></a><a href="#ampersand-collection-ismodel-codecollectionismodelmodelcode" class="section-sub-sub">isModel <code>collection.isModel(model)</code></a><a href="#ampersand-collection-length-codecollectionlengthcode" class="section-sub-sub">length <code>collection.length</code></a><a href="#ampersand-collection-iscollection-codecollectioniscollectioncode" class="section-sub-sub">isCollection <code>collection.isCollection</code></a><a href="#ampersand-collection-add-codecollectionaddmodelorobjectcode" class="section-sub-sub">add <code>collection.add(modelOrObject)</code></a><a href="#ampersand-collection-serialize-codecollectionserializecode" class="section-sub-sub">serialize <code>collection.serialize()</code></a><a href="#ampersand-collection-tojson-codecollectiontojsoncode" class="section-sub-sub">toJSON <code>collection.toJSON()</code></a><a href="#ampersand-collection-set-codecollectionsetmodels-optionscode" class="section-sub-sub">set <code>collection.set(models, [options])</code></a><a href="#ampersand-collection-get-codecollectiongetquery-indexnamecode" class="section-sub-sub">get <code>collection.get(query, [indexName])</code></a><a href="#ampersand-collection-at-codecollectionatindexcode" class="section-sub-sub">at <code>collection.at(index)</code></a><a href="#ampersand-collection-remove-codecollectionremovemodels-optionscode" class="section-sub-sub">remove <code>collection.remove(models, [options])</code></a><a href="#ampersand-collection-reset-codecollectionresetmodels-optionscode" class="section-sub-sub">reset <code>collection.reset(models, [options])</code></a><a href="#ampersand-collection-sort-codecollectionsortoptionscode" class="section-sub-sub">sort <code>collection.sort([options])</code></a><a href="#ampersand-collection-strongproxied-es5-array-methods-9strong" class="section-sub-sub"><strong>proxied ES5 array methods (9)</strong></a><a href="#ampersand-rest-collection" class="section-top">ampersand-rest-collection</a><a href="#ampersand-rest-collection-browser-support" class="section-sub">browser support</a><a href="#ampersand-rest-collection-install" class="section-sub">install</a><a href="#ampersand-rest-collection-example" class="section-sub">example</a><a href="#ampersand-view" class="section-top">ampersand-view</a><a href="#ampersand-view-install" class="section-sub">Install</a><a href="#ampersand-view-api-reference" class="section-sub">API Reference</a><a href="#ampersand-view-extend-codeampersandviewextendpropertiescode" class="section-sub-sub">extend <code>AmpersandView.extend(properties)</code></a><a href="#ampersand-view-template-codeampersandviewextend-template-quotltdivgtltinputgtltdivgtquot-code" class="section-sub-sub">template <code>AmpersandView.extend({ template: &quot;&lt;div&gt;&lt;input&gt;&lt;/div&gt;&quot; })</code></a><a href="#ampersand-view-autorender-codeampersandviewextend-autorender-true-code" class="section-sub-sub">autoRender <code>AmpersandView.extend({ autoRender: true })</code></a><a href="#ampersand-view-events" class="section-sub-sub">events</a><a href="#ampersand-view-bindings" class="section-sub-sub">bindings</a><a href="#ampersand-view-el" class="section-sub-sub">el</a><a href="#ampersand-view-constructor-codenew-ampersandviewoptionscode" class="section-sub-sub">constructor <code>new AmpersandView([options])</code></a><a href="#ampersand-view-initialize-codenew-ampersandviewoptionscode" class="section-sub-sub">initialize <code>new AmpersandView([options])</code></a><a href="#ampersand-view-render-codeviewrendercode" class="section-sub-sub">render <code>view.render()</code></a><a href="#ampersand-view-rendercollection-codeviewrendercollectioncollection-itemview-containerel-viewoptionscode" class="section-sub-sub">renderCollection <code>view.renderCollection(collection, ItemView, containerEl, [viewOptions])</code></a><a href="#ampersand-view-registersubview-codeviewregistersubviewviewinstancecode" class="section-sub-sub">registerSubview <code>view.registerSubview(viewInstance)</code></a><a href="#ampersand-view-rendersubview-codeviewrendersubviewviewinstance-containerelcode" class="section-sub-sub">renderSubview <code>view.renderSubview(viewInstance, containerEl)</code></a><a href="#ampersand-view-renderwithtemplate-codeviewrenderwithtemplatecontext-templatecode" class="section-sub-sub">renderWithTemplate <code>view.renderWithTemplate([context], [template])</code></a><a href="#ampersand-view-get-codeviewget39classname39code" class="section-sub-sub">get <code>view.get(&#39;.classname&#39;)</code></a><a href="#ampersand-view-getbyrole-codeviewgetbyrole39rolename39code" class="section-sub-sub">getByRole <code>view.getByRole(&#39;rolename&#39;)</code></a><a href="#ampersand-view-getall-codeviewgetall39classname39code" class="section-sub-sub">getAll <code>view.getAll(&#39;.classname&#39;)</code></a><a href="#ampersand-view-cacheelements-codeviewcacheelementshashcode" class="section-sub-sub">cacheElements <code>view.cacheElements(hash)</code></a><a href="#ampersand-view-listentoandrun-codeviewlistentoandrunobject-eventsstring-callbackcode" class="section-sub-sub">listenToAndRun <code>view.listenToAndRun(object, eventsString, callback)</code></a><a href="#ampersand-view-remove-codeviewremovecode" class="section-sub-sub">remove <code>view.remove()</code></a><a href="#ampersand-view-animateremove-codeviewanimateremovecode" class="section-sub-sub">animateRemove <code>view.animateRemove()</code></a><a href="#ampersand-view-delegateevents-codeviewdelegateeventseventscode" class="section-sub-sub">delegateEvents <code>view.delegateEvents([events])</code></a><a href="#ampersand-view-undelegateevents-codeviewundelegateeventscode" class="section-sub-sub">undelegateEvents <code>view.undelegateEvents()</code></a><a href="#ampersand-view-changelog" class="section-sub">Changelog</a><a href="#ampersand-view-switcher" class="section-top">Ampersand View Switcher</a><a href="#ampersand-view-switcher-install" class="section-sub">Install</a><a href="#ampersand-view-switcher-example" class="section-sub">Example</a><a href="#ampersand-view-switcher-api-reference" class="section-sub">API Reference</a><a href="#ampersand-view-switcher-constructor-codenew-viewswitcherelement-optionscode" class="section-sub-sub">constructor <code>new ViewSwitcher(element, [options])</code></a><a href="#ampersand-view-switcher-set-codeswitchersetviewinstancecode" class="section-sub-sub">set <code>switcher.set(viewInstance)</code></a><a href="#ampersand-view-switcher-clear-codeswitcherclearcallbackcode" class="section-sub-sub">clear <code>switcher.clear(callback)</code></a><a href="#ampersand-view-switcher-changelog" class="section-sub">Changelog</a><a href="#ampersand-router" class="section-top">ampersand-router</a><a href="#ampersand-router-install" class="section-sub">install</a><a href="#ampersand-router-example" class="section-sub">example</a>
      </nav>
      <div class="docs-content">
        <section>
          <h1>Getting Started</h1>
          <p>Something friendly here :)</p>
        </section>
        <section class="module"><a name="ampersand" href="#ampersand" class="anchor">
            <h1>ampersand.js app scaffolding</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand</h4>
            <p class="module-version">latest v1.6.1</p>
            <p class="module-description">CLI tool for generating single page apps a. la. http://humanjavascript.com</p>
            <p class="module-links"><a href="https://github.com/ampersandjs/ampersand">github</a><a href="https://www.npmjs.org/package/ampersand">npm</a></p>
          </div>
          <div><p>Install it, then follow the prompts to generate a starting point for your app.</p>
<pre><code>npm i ampersand -g &amp;&amp; ampersand
</code></pre><a name="ampersand-defaults" class="anchor" href="#ampersand-defaults"><h2><span class="header-link"></span>Defaults</h2></a><p>You can optionally create a <code>.ampersandjsrc</code> file in your home folder containing JSON with your preferred defaults.</p>
<p>Currently the only options are: </p>
<pre><code class="undefinedjson">{
    &quot;name&quot;: &quot;Your Name &lt;maybe_your_email@your_domain.com&gt;&quot;,
    &quot;framework&quot;: &quot;express || hapi&quot;
}
</code></pre>
<p>This config simply changes the suggested defaults when answering questions. They can still be overwritten when running the generator, but saves a bit of typing.</p>
<a name="ampersand-changelog" class="anchor" href="#ampersand-changelog"><h2><span class="header-link"></span>Changelog</h2></a><ul>
<li>1.0.1 - Fixing bug in console output for directory to install to.</li>
<li>1.0.0 - Adding option to generate app that uses either express or hapi 2.0 as the server framework. Moving docs site to its own repo.</li>
</ul>
</div>
        </section>
        <section class="module"><a name="ampersand-state" href="#ampersand-state" class="anchor">
            <h1>ampersand-state</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand-state</h4>
            <p class="module-version">latest v4.2.7</p>
            <p class="module-description">An observable, extensible state object with derived watchable properties.</p>
            <p class="module-links"><a href="https://github.com/ampersandjs/ampersand-state">github</a><a href="https://www.npmjs.org/package/ampersand-state">npm</a></p>
          </div>
          <div><p>An observable, extensible state object with derived watchable properties.</p>
<p>Ampersand-state serves as a base object for <a href="http://github.com/ampersandjs/ampersand-model">ampersand-model</a> but is useful any time you want to track complex state.</p>
<p><a href="https://github.com/ampersandjs/ampersand-model">ampersand-model</a> extends ampersand-state to include assumptions that you&#39;d want if you&#39;re using models to model date from a REST API. But by itself ampersand-state is useful for anytime you want something to model state, that fires events for changes and lets you define and listen to derived properties.</p>
<a name="ampersand-state-install" class="anchor" href="#ampersand-state-install"><h2><span class="header-link"></span>Install</h2></a><pre><code>npm install ampersand-state --save
</code></pre><a name="ampersand-state-api-reference" class="anchor" href="#ampersand-state-api-reference"><h2><span class="header-link"></span>API Reference</h2></a><a name="ampersand-state-extend-codeampersandstateextend-code" class="anchor" href="#ampersand-state-extend-codeampersandstateextend-code"><h3><span class="header-link"></span>extend <code>AmpersandState.extend({ })</code></h3></a><p>To create a <strong>State</strong> class of your own, you extend <strong>AmpersandState</strong> and provide instance properties an options for your class. Typically here you will pass any properties (<code>props</code>, <code>session</code> and <code>derived</code> of your state class, and any instance methods to be attached to instances of your class.</p>
<p><strong>extend</strong> correctly sets up the prototype chain, so that subclasses created with <strong>extend</strong> can be further extended as many times as you like.</p>
<p>Definitions like <code>props</code>, <code>session</code>, <code>derived</code> etc will be merged with superclass definitions.</p>
<pre><code class="undefinedjavascript">var Person = AmpersandState.extend({
    props: {
        firstName: &#39;string&#39;,
        lastName: &#39;string&#39;
    },
    session: {
        signedIn: [&#39;boolean&#39;, true, false],
    },
    derived: {
        fullName: {
            deps: [&#39;firstName&#39;, &#39;lastName&#39;],
            fn: function () {
                return this.firstName + &#39; &#39; + this.lastName;
            }
        }
    }
});
</code></pre>
<a name="ampersand-state-constructorinitialize-codenew-ampersandstateattrs-optionscode" class="anchor" href="#ampersand-state-constructorinitialize-codenew-ampersandstateattrs-optionscode"><h3><span class="header-link"></span>constructor/initialize <code>new AmpersandState([attrs], [options])</code></h3></a><p>When creating an instance of a state object, you can pass in the initial values of the <strong>attributes</strong> which will be <a href="#ampersand-state-set">set</a> on the model. Unless <a href="#amperand-state-extra-properties">extraProperties</a> is set to <code>allow</code>, you will need to have defined these attributes in <code>props</code> or <code>session</code>.</p>
<p>If you have defined an <strong>initialize</strong> function for your subclass of State, it will be invoked at creation time.</p>
<pre><code class="undefinedjavascript">var me = new Person({
    firstName: &#39;Phil&#39;
    lastName: &#39;Roberts&#39;
});

me.firstName //=&gt; Phil
</code></pre>
<p>Available options:</p>
<ul>
<li><code>[parse]</code> {Boolean} - whether to call the class&#39;s <a href="#ampersand-state-parse">parse</a> function with the initial attributes. <em>Defaults to <code>false</code></em>.</li>
<li><code>[parent]</code> {AmpersandState} - pass a reference to a model&#39;s parent to store on the model.</li>
</ul>
<a name="ampersand-state-extraproperties-codeampersandstateextend-extraproperties-39allow39-code" class="anchor" href="#ampersand-state-extraproperties-codeampersandstateextend-extraproperties-39allow39-code"><h3><span class="header-link"></span>extraProperties <code>AmpersandState.extend({ extraProperties: &#39;allow&#39; })</code></h3></a><p>Defines how properties that aren&#39;t defined in <code>props</code>, <code>session</code> or <code>derived</code> are handled. May be set to <code>&#39;allow&#39;</code>, <code>&#39;reject&#39;</code> or <code>&#39;allow&#39;</code>.</p>
<pre><code class="undefinedjavascript">var StateA = AmpersandState.extend({
    extraProperties: &#39;allow&#39;,
});

var stateA = new StateA({ foo: &#39;bar&#39; });
stateA.foo === &#39;bar&#39; //=&gt; true


var StateB = AmpersandState.extend({
    extraProperties: &#39;ignore&#39;,
});

var stateB = new StateB({ foo: &#39;bar&#39; });
stateB.foo === undefined //=&gt; true


var stateC = AmpersandState.extend({
    extraProperties: &#39;reject&#39;
});

var stateC = new StateC({ foo: &#39;bar&#39; })
//=&gt; TypeError(&#39;No foo property defined on this model and extraProperties not set to &quot;ignore&quot; or &quot;allow&quot;.&#39;);
</code></pre>
<a name="ampersand-state-datatypes" class="anchor" href="#ampersand-state-datatypes"><h3><span class="header-link"></span>dataTypes</h3></a><a name="ampersand-state-props-codeampersandviewextend-props-name-39string39-code" class="anchor" href="#ampersand-state-props-codeampersandviewextend-props-name-39string39-code"><h3><span class="header-link"></span>props <code>AmpersandView.extend({ props: { name: &#39;string&#39; } })</code></h3></a><p>Pass <strong>props</strong> as an object to extend, describing the observable properties of your state class. The props properties should not be set on an instance, as this won&#39;t define new properties, they should only be passed to extend.</p>
<p>Properties can be defined in three different ways:</p>
<ul>
<li>As a string with the expected dataType. One of <code>string</code>, <code>number</code>, <code>boolean</code>, <code>array</code>, <code>object</code>, <code>date</code>, or <code>any</code>. Eg: <code>name: &#39;string&#39;</code>. Can also be set to the name of a custom <code>dataTypes</code> if any are defined for the class.</li>
<li>An array of <code>[dataType, required, default]</code></li>
<li><p>An object <code>{ type: &#39;string&#39;, required: true, default: &#39;&#39; , allowNull: false}</code></p>
</li>
<li><p>If <code>required</code> is true, and a <code>default</code> is set for the property, the property will start with that value, and revert to it after a call to <code>unset(propertyName)</code>.</p>
</li>
<li>Trying to set a property to an invalid type will raise an exception.</li>
<li>See <a href="#ampersand-state-get">get</a> and <a href="#ampersand-state-set">set</a> for more information about getting and setting properties.</li>
</ul>
<pre><code class="undefinedjavascript">var Person = AmpersandState.extend({
    props: {
        name: &#39;string&#39;,
        age: &#39;number&#39;,
        paying: [&#39;boolean&#39;, true, false], //required attribute, defaulted to false
        type: {
            type: &#39;string&#39;,
            values: [&#39;regular-hero&#39;, &#39;super-hero&#39;, &#39;mega-hero&#39;
        }
    }
});
</code></pre>
<a name="ampersand-state-session-codeampersandviewextend-session-name-39string39-code" class="anchor" href="#ampersand-state-session-codeampersandviewextend-session-name-39string39-code"><h3><span class="header-link"></span>session <code>AmpersandView.extend({ session: { name: &#39;string&#39; } })</code></h3></a><p>Session properties are defined and work in exactly the same way as <a href="#ampersand-state-props">props</a>, but generally only exist for the lifetime of the page. They would not typically be persisted to the server, and are not returned by calls to <code>toJSON()</code> or <code>serialize()</code>.</p>
<pre><code class="undefinedjavascript">var Person = AmpersandState.extend({
    props: {
        name: &#39;string&#39;,
    },
    session: {
        isLoggedIn: &#39;boolean&#39;
    }
);
</code></pre>
<a name="ampersand-state-derived" class="anchor" href="#ampersand-state-derived"><h3><span class="header-link"></span>derived</h3></a><p>Derived properties (also known as computed properties) are properties of the state object that depend on the other (<code>props</code>, <code>session</code>  or even <code>derived</code> properties to determine their value. Best demonstrated with an example:</p>
<pre><code class="undefinedjavascript">var Person = AmpersandState.extend({
    props: {
        firstName: &#39;string&#39;,
        lastName: &#39;string&#39;
    },
    derived: {
        fullName: {
            deps: [&#39;firstName&#39;, &#39;lastName&#39;],
            fn: function () {
                return this.firstName + &#39; &#39; + this.lastName;
            }
        }
    }
});

var person = new Person({ firstName: &#39;Phil&#39;, lastName: &#39;Roberts&#39; });
console.log(person.fullName) //=&gt; &quot;Phil Roberts&quot;

person.firstName = &#39;Bob&#39;;
console.log(person.fullName) //=&gt; &quot;Bob Roberts&quot;
</code></pre>
<p>Each derived property, is defined as an object with the current properties:</p>
<ul>
<li><code>deps</code> {Array} - An array of property names which the derived property depends on.</li>
<li><code>fn</code> {Function} - A function which returns the value of the computed property. It is called in the context of the current object, so that <code>this</code> is set correctly.</li>
<li><code>cache</code> {Boolean} - Whether to cache the property. Uncached properties are computed everytime they are accessed. Useful if it depends on the current time for example. <em>Defaults to <code>true</code></em>.</li>
</ul>
<p>Derived properties are retrieved and fire change events just like any other property. They cannot be set directly. Caching ensures that the <code>fn</code> function is only run when any of the dependencies change, and change events are only fired if the result of calling <code>fn()</code> has actually changed.</p>
<a name="ampersand-state-children-codeampersandstateextend-children-profile-profile-code" class="anchor" href="#ampersand-state-children-codeampersandstateextend-children-profile-profile-code"><h3><span class="header-link"></span>children <code>AmpersandState.extend({ children: { profile: Profile } })</code></h3></a><p>Define child state objects to attach to the object. Attributes passed to the constructor or to <code>set()</code> will be proxied to the children/collections. Change events on the child will be proxied through the parent:</p>
<pre><code class="undefinedjavascript">var AmpersandState = require(&#39;ampersand-state&#39;);
var Hat = AmpersandState.extend({
    props: {
        color: &#39;string&#39;
    }
});

var Person = AmpersandState.extend({
    props: {
        name: &#39;Phil&#39;
    },
    children: {
        hat: Hat
    }
});

var me = new Person({ name: &#39;Phil&#39;, hat: { color: &#39;red&#39; } });

me.on(&#39;all&#39;, function (eventName) {
    console.log(&#39;Got event: &#39;, eventName);
});

console.log(me.hat) //=&gt; Hat{color: &#39;red&#39;}

me.set({ hat: { color: &#39;green&#39; } });
//-&gt; &quot;Got event: change:hat.color&quot;
//-&gt; &quot;Got event: change&quot;

console.log(me.hat) //=&gt; Hat{color: &#39;green&#39;}
</code></pre>
<a name="ampersand-state-parse" class="anchor" href="#ampersand-state-parse"><h3><span class="header-link"></span>parse</h3></a><p><strong>parse</strong> is called when the model is initialized allowing the attributes to be modified/remapped/renamed/etc before they are actually applied to the model. In ampersand-state, parse is only called when the model is first initialized, and only if <code>{ parse: true }</code> is passed to the constructor options:</p>
<pre><code class="undefinedjavascript">var Person = AmpersandState.extend({
    props: {
        id: &#39;number&#39;,
        name: &#39;string&#39;
    },

    parse: function (attrs) {
        attrs.id = attrs.personID; //remap an oddly named attribute
        delete attrs.personID;

        return attrs;
    }
});

var me = new Person({ personID: 123, name: &#39;Phil&#39; });

console.log(me.id) //=&gt; 123
console.log(me.personID) //=&gt; undefined
</code></pre>
<p><strong>parse</strong> is arguably more useful in ampersand-model, where data typically comes from the server.</p>
<a name="ampersand-state-serialize-codestateserializecode" class="anchor" href="#ampersand-state-serialize-codestateserializecode"><h3><span class="header-link"></span>serialize <code>state.serialize()</code></h3></a><p>Serialize the state object into a plain object, ready for sending to the server (typically called via <a href="#ampersand-state-tojson">toJSON</a>). Of the model&#39;s properties, only <code>props</code> is returned, <code>session</code> and <code>derived</code> are omitted. Will also serialize any <code>children</code> or <code>collections</code> by calling their serialize methods.</p>
<a name="ampersand-state-get-codestategetattribute-stateattribute-statefirstnamecode" class="anchor" href="#ampersand-state-get-codestategetattribute-stateattribute-statefirstnamecode"><h3><span class="header-link"></span>get <code>state.get(attribute); state[attribute]; state.firstName</code></h3></a><p>Get the current value of an attribute from the state object. Attributes can be accessed directly, or a call to the Backbone style <code>get</code>. So these are all equivalent:</p>
<pre><code class="undefinedjavascript">person.get(&#39;firstName&#39;);
person[&#39;firstName&#39;];
person.firstName
</code></pre>
<p>Get will retrieve <code>props</code>, <code>session</code> or <code>derived</code> properties all in the same way.</p>
<a name="ampersand-state-set-codestatesetattributes-options-statefirstname-39henrik39code" class="anchor" href="#ampersand-state-set-codestatesetattributes-options-statefirstname-39henrik39code"><h3><span class="header-link"></span>set <code>state.set(attributes, [options]); state.firstName = &#39;Henrik&#39;;</code></h3></a><p>Set an attribute, or multiple attributes, on the state object. If any of the attributes change the state of the object, a <code>&quot;change&quot;</code> event will be triggered on it. Change events for specific attributes are also triggered, which you can listen to as well. For example: <code>&quot;change:firstName&quot;</code> and <code>&quot;change:content&quot;</code>. If the changes update any <code>derived</code> properties on the object, their values will be updated, and change events fired as well.</p>
<p>Attributes can be set directly, or via a call to the backbone style <code>set</code> (useful if you wish to update multiple attributes at once):</p>
<pre><code class="undefinedjavascript">person.set({firstName: &#39;Phil&#39;, lastName: &#39;Roberts&#39;});
person.set(&#39;firstName&#39;, &#39;Phil&#39;);
person.firstName = &#39;Phil&#39;;
</code></pre>
<p>Possible options (when using <code>state.set()</code>):</p>
<ul>
<li><code>silent</code> {Boolean} - prevents triggering of any change events as a result of the set operation.</li>
<li><code>unset</code> {Boolean} - <code>unset</code> the attributes keyed in the attributes object instead of setting them.</li>
</ul>
<a name="ampersand-state-unset-codestateunsetattribute-optionscode" class="anchor" href="#ampersand-state-unset-codestateunsetattribute-optionscode"><h3><span class="header-link"></span>unset <code>state.unset(attribute, [options])</code></h3></a><p>Clear the named attribute from the state object. Fires a <code>&quot;change&quot;</code> event and a <code>&quot;change:attributeName&quot;</code> event unless <code>silent</code> is passed as an option.</p>
<p>If the attribute being unset is <code>required</code> and has a <code>default</code> value as defined in either <code>props</code> or <code>session</code>, it will be set to that value, otherwise it will be <code>undefined</code>.</p>
<pre><code class="undefinedjavascript">person.unset(&#39;firstName&#39;)
</code></pre>
<a name="ampersand-state-toggle-codestatetoggle39active39code" class="anchor" href="#ampersand-state-toggle-codestatetoggle39active39code"><h3><span class="header-link"></span>toggle <code>state.toggle(&#39;active&#39;)</code></h3></a><p>Shortcut to toggle boolean properties, or cycle through &quot;ENUM&quot; type properties that have a <code>values</code> array in it&#39;s definition. Fires change events as you would expect from set.</p>
<pre><code class="undefinedjavascript">var Person = AmpersandState.extend({
    props: {
        active: &#39;boolean&#39;,
        color: {
            type: &#39;string&#39;,
            values: [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;]
        }
    }
});

var me = new Person({ active: true, color: &#39;green&#39; });

me.toggle(&#39;active&#39;);
console.log(me.active) //=&gt; false

me.toggle(&#39;color&#39;);
console.log(me.color) //=&gt; &#39;blue&#39;

me.toggle(&#39;color&#39;);
console.log(me.color) //=&gt; &#39;red&#39;
</code></pre>
<a name="ampersand-state-previousattributes-codestatepreviousattributescode" class="anchor" href="#ampersand-state-previousattributes-codestatepreviousattributescode"><h3><span class="header-link"></span>previousAttributes <code>state.previousAttributes()</code></h3></a><p>Return a copy of the object&#39;s previous attributes (the state before the last <code>&quot;change&quot;</code> event). Useful for getting a diff between versions of a model, or getting back to a valid state after an error occurs.</p>
<a name="ampersand-state-haschanged-codestatehaschangedattributecode" class="anchor" href="#ampersand-state-haschanged-codestatehaschangedattributecode"><h3><span class="header-link"></span>hasChanged <code>state.hasChanged([attribute])</code></h3></a><p>Determine if the model has been modified since the last <code>&quot;change&quot;</code> event. If an attribute name is passed, determine if that one attribute has changed.</p>
<a name="ampersand-state-changedattributes-codestatechangedattributesobjecttodiffcode" class="anchor" href="#ampersand-state-changedattributes-codestatechangedattributesobjecttodiffcode"><h3><span class="header-link"></span>changedAttributes <code>state.changedAttributes([objectToDiff])</code></h3></a><p>Return an object containing all the attributes that have changed, or false if there are no changed attributes. Useful for determining what parts of a view need to be updated and/or what attributes need to be persisted to the server. Unset attributes will be set to undefined.  You can also pass an attributes object to diff against the model, determining if there <em>would be</em> a change.</p>
<a name="ampersand-state-tojson-codestatetojsoncode" class="anchor" href="#ampersand-state-tojson-codestatetojsoncode"><h3><span class="header-link"></span>toJSON <code>state.toJSON()</code></h3></a><p>Return a shallow copy of the model&#39;s attributes for JSON stringification. This can be used for persistence, serialization, or for augmentation before being sent to the server. The name of this method is a bit confusing, as it doesn&#39;t actually return a JSON string — but I&#39;m afraid that it&#39;s the way that the JavaScript API for JSON.stringify works.</p>
<p>Calls <a href="#ampersand-state-serialize">serialize</a> to determine which values to return in the object. Will be called implicitly by JSON.stringify.</p>
<pre><code class="undefinedjavascript">var me = new Person({ firstName: &#39;Phil&#39;, lastName: &#39;Roberts&#39; });

me.toJSON() //=&gt; { firstName: &#39;Phil&#39;, lastName: &#39;Roberts&#39; }

//JSON.stringify implicitly calls toJSON:
JSON.stringify(me) //=&gt; &quot;{\&quot;firstName\&quot;:\&quot;Phil\&quot;,\&quot;lastName\&quot;:\&quot;Roberts\&quot;}&quot;
</code></pre>
<a name="ampersand-state-changelog" class="anchor" href="#ampersand-state-changelog"><h2><span class="header-link"></span>Changelog</h2></a></div>
        </section>
        <section class="module"><a name="ampersand-model" href="#ampersand-model" class="anchor">
            <h1>ampersand-model</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand-model</h4>
            <p class="module-version">latest v2.10.7</p>
            <p class="module-description">ampersand-model helps you create observable models for your apps. Most commonly in clientside frameworks, your models are what hold data fetched from your API. But really, it's all about having a way to separate concerns. Your models should be your author</p>
            <p class="module-links"><a href="https://github.com/ampersandjs/ampersand-model">github</a><a href="https://www.npmjs.org/package/ampersand-model">npm</a></p>
          </div>
          <div><p>ampersand-model helps you create observable models for your apps. Most commonly in clientside frameworks, your models are what hold data fetched from your API. But really, it&#39;s all about having a way to separate concerns. Your models should be your authoritive &quot;source of truth&quot; when it comes to all state held in your application.</p>
<p>ampersand-model takes what backbone models do a step further by forcing you to explicitly define what the model is going to store so that the model code can end up being self-documenting in that you can now simply look at the model code and see what they&#39;re expected to store.</p>
<p>This is hugely important for enabling teams to work on the same app together. There&#39;s also a few extra goodies, like direct accessors (not having to use <code>.set()</code> and <code>.get()</code>), and intelligently evented derived properties.</p>
<a name="ampersand-model-installing" class="anchor" href="#ampersand-model-installing"><h2><span class="header-link"></span>Installing</h2></a><p>via npm:</p>
<pre><code>npm install ampersand-model
</code></pre><a name="ampersand-model-api-reference" class="anchor" href="#ampersand-model-api-reference"><h2><span class="header-link"></span>API Reference</h2></a><a name="ampersand-model-idattribute-codemodelidattributecode" class="anchor" href="#ampersand-model-idattribute-codemodelidattributecode"><h3><span class="header-link"></span>idAttribute <code>model.idAttribute</code></h3></a><p>The attribute that should be used as the unique id of the model - typically the name of the property representing the model&#39;s id on the server. <code>getId</code> uses this to determine the id for use when constructing a model&#39;s url for saving to the server.</p>
<p>Defaults to <code>&#39;id&#39;</code>.</p>
<pre><code>var Person = AmpersandModel.extend({
    idAttribute: &#39;personId&#39;,
    urlRoot: &#39;/people&#39;,
    props: {
        personId: &#39;number&#39;,
        name: &#39;string&#39;
    }
});

var me = new Person({ personId: 123 });

console.log(me.url()) //=&gt; &quot;/people/123&quot;
</code></pre><a name="ampersand-model-namespaceattribute" class="anchor" href="#ampersand-model-namespaceattribute"><h3><span class="header-link"></span>namespaceAttribute</h3></a><a name="ampersand-model-typeattribute" class="anchor" href="#ampersand-model-typeattribute"><h3><span class="header-link"></span>typeAttribute</h3></a><a name="ampersand-model-getid-codemodelgetidcode" class="anchor" href="#ampersand-model-getid-codemodelgetidcode"><h3><span class="header-link"></span>getId <code>model.getId()</code></h3></a><p>Get ID of model per <code>idAttribute</code> configuration. Should <em>always</em> be how ID is determined by other code.</p>
<a name="ampersand-model-getnamespace-codemodelgetnamespacecode" class="anchor" href="#ampersand-model-getnamespace-codemodelgetnamespacecode"><h3><span class="header-link"></span>getNamespace <code>model.getNamespace()</code></h3></a><p>Get namespace of model per <code>namespaceAttribute</code> configuration. Should <em>always</em> be how namespace is determined by other code.</p>
<a name="ampersand-model-gettype-codemodelgettypecode" class="anchor" href="#ampersand-model-gettype-codemodelgettypecode"><h3><span class="header-link"></span>getType <code>model.getType()</code></h3></a><p>Get type of model per <code>typeAttribute</code> configuration. Should <em>always</em> be how type is determined by other code.</p>
<a name="ampersand-model-constructorinitialize" class="anchor" href="#ampersand-model-constructorinitialize"><h3><span class="header-link"></span>constructor/initialize</h3></a><a name="ampersand-model-collection" class="anchor" href="#ampersand-model-collection"><h3><span class="header-link"></span>collection</h3></a><a name="ampersand-model-registry" class="anchor" href="#ampersand-model-registry"><h3><span class="header-link"></span>registry</h3></a><a name="ampersand-model-cid-codemodelcidcode" class="anchor" href="#ampersand-model-cid-codemodelcidcode"><h3><span class="header-link"></span>cid <code>model.cid</code></h3></a><p>A special property of models, the <strong>cid</strong>, or a client id, is a unique identifier automatically assigned to all models when they are first created. Client ids are handy when the model has not been saved to the server, and so does not yet have it&#39;s true <strong>id</strong> but needs a unique id so it can be rendered in the UI etc.</p>
<pre><code class="undefinedjavascript">var userA = new User();
console.log(userA.cid) //=&gt; &quot;model-1&quot;

var userB = new User();
console.log(userB.cid) //=&gt; &quot;model-2&quot;
</code></pre>
<a name="ampersand-model-save-codemodelsaveattributes-optionscode" class="anchor" href="#ampersand-model-save-codemodelsaveattributes-optionscode"><h3><span class="header-link"></span>save <code>model.save([attributes], [options])</code></h3></a><p>Save a model to your database (or alternative persistence layer), by delegating to Backbone.sync. Returns a xhr object if validation is successful and false otherwise. The attributes hash (as in set) should contain the attributes you&#39;d like to change — keys that aren&#39;t mentioned won&#39;t be altered — but, a <em>complete representation</em> of the resource will be sent to the server. As with <code>set</code>, you may pass individual keys and values instead of a hash. If the model has a validate method, and validation fails, the model will not be saved. If the model <code>isNew</code>, the save will be a &quot;create&quot; (HTTP POST), if the model already exists on the server, the save will be an &quot;update&quot; (HTTP PUT).</p>
<p>If instead, you&#39;d only like the changed attributes to be sent to the server, call <code>model.save(attrs, {patch: true})</code>. You&#39;ll get an HTTP PATCH request to the server with just the passed-in attributes.</p>
<p>Calling save with new attributes will cause a <code>&quot;change&quot;</code> event immediately, a <code>&quot;request&quot;</code> event as the Ajax request begins to go to the server, and a <code>&quot;sync&quot;</code> event after the server has acknowledged the successful change. Pass <code>{wait: true}</code> if you&#39;d like to wait for the server before setting the new attributes on the model.</p>
<pre><code class="undefinedjavascript">var book = new Backbone.Model({
  title: &quot;The Rough Riders&quot;,
  author: &quot;Theodore Roosevelt&quot;
});

book.save();
//=&gt; triggers a `POST` via ampersand-sync with { &quot;title&quot;: &quot;The Rough Riders&quot;, &quot;author&quot;: &quot;Theodore Roosevelt&quot; }

book.save({author: &quot;Teddy&quot;});
//=&gt; triggers a `PUT` via ampersand-sync with { &quot;title&quot;: &quot;The Rough Riders&quot;, &quot;author&quot;: &quot;Teddy&quot; }
</code></pre>
<p><strong>save</strong> accepts <code>success</code> and <code>error</code> callbacks in the options hash, which will be passed the arguments <code>(model, response, options)</code>. If a server-side validation fails, return a non-<code>200</code> HTTP response code, along with an error response in text or JSON.</p>
<a name="ampersand-model-fetch-codemodelfetchoptionscode" class="anchor" href="#ampersand-model-fetch-codemodelfetchoptionscode"><h3><span class="header-link"></span>fetch <code>model.fetch([options])</code></h3></a><p>Resets the model&#39;s state from the server by delegating to ampersand-sync. Returns a xhr. Useful if the model has yet to be populated with data, or you want to ensure you have the latest server state. A <code>&quot;change&quot;</code> event will be triggered if the retrieved state from the server differs from the current attributes. Accepts <code>success</code> and <code>error</code> callbacks in the options hash, which are both passed <code>(model, response, options)</code> as arguments.</p>
<pre><code class="undefinedjavascript">var me = new Person({id: 123});
me.fetch();
</code></pre>
<a name="ampersand-model-destroy-codemodeldestroyoptionscode" class="anchor" href="#ampersand-model-destroy-codemodeldestroyoptionscode"><h3><span class="header-link"></span>destroy <code>model.destroy([options])</code></h3></a><p>Destroys the model on the server by delegating an HTTP <code>DELETE</code> request to ampersand-sync. Returns the xhr object, or <code>false</code> if the model <a href="#ampersand-model-isnew">isNew</a>. Accepts <code>success</code> and <code>error</code> callbacks in the options hash, which are both passed <code>(model, response, options)</code> as arguments.</p>
<p>Triggers:</p>
<ul>
<li>a <code>&quot;destroy&quot;</code> event on the model, which will bubble up through any collections which contain it.</li>
<li>a <code>&quot;request&quot;</code> event as it begins the Ajax request to the server</li>
<li>a <code>&quot;sync&quot;</code> event, after the server has successfully acknowledged the model&#39;s deletion.</li>
</ul>
<p>Pass <code>{wait: true}</code> if you&#39;d like to wait for the server to respond before removing the model from the collection.</p>
<pre><code class="undefinedjavascript">var task = new Task({ id: 123 });
task.destroy({
    success: function () { alert(&#39;Task destroyed!&#39;); },
    error: function () { alert(&#39;There was an error destroying the task&#39;); },
});
</code></pre>
<a name="ampersand-model-sync-codemodelsyncmethod-model-optionscode" class="anchor" href="#ampersand-model-sync-codemodelsyncmethod-model-optionscode"><h3><span class="header-link"></span>sync <code>model.sync(method, model, [options])</code></h3></a><p>Uses ampersand-sync to persist the state of a model to the server. Can be overrideen for custom behaviour.</p>
<a name="ampersand-model-remove" class="anchor" href="#ampersand-model-remove"><h3><span class="header-link"></span>remove</h3></a><a name="ampersand-model-isnew-codemodelisnewcode" class="anchor" href="#ampersand-model-isnew-codemodelisnewcode"><h3><span class="header-link"></span>isNew <code>model.isNew()</code></h3></a><p>Has this model been saved to the server yet? If the model does not yet have an id, it is considered to be new.</p>
<a name="ampersand-model-url-codemodelurlcode" class="anchor" href="#ampersand-model-url-codemodelurlcode"><h3><span class="header-link"></span>url <code>model.url()</code></h3></a><a name="ampersand-model-urlroot-codemodelurlroot-or-modelurlrootcode" class="anchor" href="#ampersand-model-urlroot-codemodelurlroot-or-modelurlrootcode"><h3><span class="header-link"></span>urlRoot <code>model.urlRoot or model.urlRoot()</code></h3></a><a name="ampersand-model-escape" class="anchor" href="#ampersand-model-escape"><h3><span class="header-link"></span>escape</h3></a><p>Similar to <code>get</code>, but returns the HTML-escaped version of a model&#39;s attribute. If you&#39;re interpolating data from the model into HTML, using <strong>escape</strong> to retrieve attributes will help prevent XSS attacks.</p>
<pre><code>var hacker = new Backbone.Model({
  name: &quot;&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;&quot;
});

alert(hacker.escape(&#39;name&#39;));
</code></pre><a name="ampersand-model-addlistval" class="anchor" href="#ampersand-model-addlistval"><h3><span class="header-link"></span>addListVal</h3></a><a name="ampersand-model-removelistval" class="anchor" href="#ampersand-model-removelistval"><h3><span class="header-link"></span>removeListval</h3></a><a name="ampersand-model-haslistval" class="anchor" href="#ampersand-model-haslistval"><h3><span class="header-link"></span>hasListVal</h3></a><a name="ampersand-model-isvalid-codemodelisvalidcode" class="anchor" href="#ampersand-model-isvalid-codemodelisvalidcode"><h3><span class="header-link"></span>isValid <code>model.isValid()</code></h3></a><p>Check if the model is currently in a valid state, as per the <code>props</code>/<code>session</code> definitions.</p>
</div>
        </section>
        <section class="module"><a name="ampersand-collection" href="#ampersand-collection" class="anchor">
            <h1>ampersand-collection</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand-collection</h4>
            <p class="module-version">latest v1.3.4</p>
            <p class="module-description">A way to store/manage objects or models.</p>
            <p class="module-links"><a href="https://github.com/ampersandjs/ampersand-collection">github</a><a href="https://www.npmjs.org/package/ampersand-collection">npm</a></p>
          </div>
          <div><p>A way to store/manage objects or models.</p>
<p>Unlike other tools this makes no assumptions about how it&#39;s going to be used or what type of models it is going to contain. This makes it a very flexible/useful tool for modeling all kinds of stuff.</p>
<p>It does not require underscore or jQuery, but instead makes it easy to extend with those methods if you&#39;d like.</p>
<a name="ampersand-collection-installation" class="anchor" href="#ampersand-collection-installation"><h2><span class="header-link"></span>Installation</h2></a><pre><code>npm i ampersand-collection
</code></pre><a name="ampersand-collection-api-reference" class="anchor" href="#ampersand-collection-api-reference"><h2><span class="header-link"></span>API Reference</h2></a><a name="ampersand-collection-extend-codeampersandcollectionextendattributescode" class="anchor" href="#ampersand-collection-extend-codeampersandcollectionextendattributescode"><h3><span class="header-link"></span>extend <code>AmpersandCollection.extend([attributes])</code></h3></a><a name="ampersand-collection-constructorinitialize-codenew-ampersandcollectionmodelsarray-optionscode" class="anchor" href="#ampersand-collection-constructorinitialize-codenew-ampersandcollectionmodelsarray-optionscode"><h3><span class="header-link"></span>constructor/initialize <code>new AmpersandCollection([modelsArray], [options])</code></h3></a><a name="ampersand-collection-model-codecollectionmodelcode" class="anchor" href="#ampersand-collection-model-codecollectionmodelcode"><h3><span class="header-link"></span>model <code>collection.model</code></h3></a><a name="ampersand-collection-mainindex-collectionmainindex" class="anchor" href="#ampersand-collection-mainindex-collectionmainindex"><h3><span class="header-link"></span>mainIndex `collection.mainIndex</h3></a><a name="ampersand-collection-indexes-codecollectionsindexescode" class="anchor" href="#ampersand-collection-indexes-codecollectionsindexescode"><h3><span class="header-link"></span>indexes <code>collections.indexes</code></h3></a><a name="ampersand-collection-ismodel-codecollectionismodelmodelcode" class="anchor" href="#ampersand-collection-ismodel-codecollectionismodelmodelcode"><h3><span class="header-link"></span>isModel <code>collection.isModel(model)</code></h3></a><a name="ampersand-collection-length-codecollectionlengthcode" class="anchor" href="#ampersand-collection-length-codecollectionlengthcode"><h3><span class="header-link"></span>length <code>collection.length</code></h3></a><a name="ampersand-collection-iscollection-codecollectioniscollectioncode" class="anchor" href="#ampersand-collection-iscollection-codecollectioniscollectioncode"><h3><span class="header-link"></span>isCollection <code>collection.isCollection</code></h3></a><a name="ampersand-collection-add-codecollectionaddmodelorobjectcode" class="anchor" href="#ampersand-collection-add-codecollectionaddmodelorobjectcode"><h3><span class="header-link"></span>add <code>collection.add(modelOrObject)</code></h3></a><a name="ampersand-collection-serialize-codecollectionserializecode" class="anchor" href="#ampersand-collection-serialize-codecollectionserializecode"><h3><span class="header-link"></span>serialize <code>collection.serialize()</code></h3></a><a name="ampersand-collection-tojson-codecollectiontojsoncode" class="anchor" href="#ampersand-collection-tojson-codecollectiontojsoncode"><h3><span class="header-link"></span>toJSON <code>collection.toJSON()</code></h3></a><a name="ampersand-collection-set-codecollectionsetmodels-optionscode" class="anchor" href="#ampersand-collection-set-codecollectionsetmodels-optionscode"><h3><span class="header-link"></span>set <code>collection.set(models, [options])</code></h3></a><a name="ampersand-collection-get-codecollectiongetquery-indexnamecode" class="anchor" href="#ampersand-collection-get-codecollectiongetquery-indexnamecode"><h3><span class="header-link"></span>get <code>collection.get(query, [indexName])</code></h3></a><a name="ampersand-collection-at-codecollectionatindexcode" class="anchor" href="#ampersand-collection-at-codecollectionatindexcode"><h3><span class="header-link"></span>at <code>collection.at(index)</code></h3></a><a name="ampersand-collection-remove-codecollectionremovemodels-optionscode" class="anchor" href="#ampersand-collection-remove-codecollectionremovemodels-optionscode"><h3><span class="header-link"></span>remove <code>collection.remove(models, [options])</code></h3></a><a name="ampersand-collection-reset-codecollectionresetmodels-optionscode" class="anchor" href="#ampersand-collection-reset-codecollectionresetmodels-optionscode"><h3><span class="header-link"></span>reset <code>collection.reset(models, [options])</code></h3></a><a name="ampersand-collection-sort-codecollectionsortoptionscode" class="anchor" href="#ampersand-collection-sort-codecollectionsortoptionscode"><h3><span class="header-link"></span>sort <code>collection.sort([options])</code></h3></a><a name="ampersand-collection-strongproxied-es5-array-methods-9strong" class="anchor" href="#ampersand-collection-strongproxied-es5-array-methods-9strong"><h3><span class="header-link"></span><strong>proxied ES5 array methods (9)</strong></h3></a><p>The base AmpersandCollection proxies some basic ES5 methods to the underlying model array:</p>
<ul>
<li>indexOf</li>
<li>lastIndexOf</li>
<li>every</li>
<li>some</li>
<li>forEach</li>
<li>each (alias for forEach)</li>
<li>map</li>
<li>filter</li>
<li>reduce</li>
<li>reduceRight</li>
</ul>
<p>Unlike a backbone collection it doesn not include underscore and all the array methods from underscore, though if you wish more functions than those built into modern browsers, you can mixin <a href="#ampersand-collection-underscore-mixin">ampersand-collection-underscore-mixin</a> to get them.</p>
<pre><code class="undefinedjavascript">var people = People([
    { name: &#39;Phil&#39;, hatColor: &#39;red&#39; },
    { name: &#39;Jenn&#39;, hatColor: &#39;green&#39; },
    { name: &#39;Henrik&#39;, hatColor: &#39;blue&#39; },
    { name: &#39;Julie&#39;, hatColor: &#39;yellow&#39; }
]);

people.map(function (person) { return person.name; }) //=&gt; [&#39;Phil&#39;, &#39;Jenn&#39;, &#39;Henrik&#39;, &#39;Julie&#39;]

people.filter(function (person) {
    return person.name[0] === &#39;J&#39;;
}) //=&gt; [&#39;Jenn&#39;, &#39;Julie&#39;]
</code></pre>
</div>
        </section>
        <section class="module"><a name="ampersand-rest-collection" href="#ampersand-rest-collection" class="anchor">
            <h1>ampersand-rest-collection</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand-rest-collection</h4>
            <p class="module-version">latest v1.0.3</p>
            <p class="module-description">ampersand-collection with REST and Underscore mixins.</p>
            <p class="module-links"><a href="https://github.com/ampersandjs/ampersand-rest-collection">github</a><a href="https://www.npmjs.org/package/ampersand-rest-collection">npm</a></p>
          </div>
          <div><p>Extends ampersand-collection with REST and Underscore mixins.</p>
<p>This makes ampersand-collection work and act a lot like Backbone.Collection, if you&#39;re planning on hitting a REST-ful API this is probably what you want to use.</p>
<a name="ampersand-rest-collection-browser-support" class="anchor" href="#ampersand-rest-collection-browser-support"><h2><span class="header-link"></span>browser support</h2></a><p><a href="https://ci.testling.com/AmpersandJS/ampersand-rest-collection"><img src="https://ci.testling.com/AmpersandJS/ampersand-rest-collection.png" alt="testling badge"></a></p>
<a name="ampersand-rest-collection-install" class="anchor" href="#ampersand-rest-collection-install"><h2><span class="header-link"></span>install</h2></a><pre><code>npm install ampersand-rest-collection
</code></pre><a name="ampersand-rest-collection-example" class="anchor" href="#ampersand-rest-collection-example"><h2><span class="header-link"></span>example</h2></a><p>Define a collection</p>
<pre><code class="undefinedjavascript">var Collection = require(&#39;ampersand-rest-collection&#39;);
var Model = require(&#39;some-model&#39;);


module.exports = Collection.extend({
    model: Model,
    url: &#39;/models&#39;
});
</code></pre>
<p>Using it:</p>
<pre><code class="undefinedjavascript">var Collection = require(&#39;./path-to-your-collection-module&#39;);


var c = new Collection();

// call RESTful methods
c.fetch();

// also has underscore mixins
c.each(function (model) {
    console.log(&#39;model:&#39;, model);
});
</code></pre>
</div>
        </section>
        <section class="module"><a name="ampersand-view" href="#ampersand-view" class="anchor">
            <h1>ampersand-view</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand-view</h4>
            <p class="module-version">latest v5.1.10</p>
            <p class="module-version">beta v2.4.0</p>
            <p class="module-description">A smart base view for Backbone apps, to make it easy to bind collections and properties to the DOM.</p>
            <p class="module-links"><a href="http://ampersandjs.com">github</a><a href="https://www.npmjs.org/package/ampersand-view">npm</a></p>
          </div>
          <div><p>A set of common helpers and conventions for using as a base view for ampersand.js apps.</p>
<p>What does it do?</p>
<ol>
<li>Gives you a proven pattern for managing/binding the contents of an element.</li>
<li>Simple declarative property/template bindings without needing to include a template engine that does it for you. This keeps your logic out of your templates and lets you use a string of HTML as a fully dynamic template or just a simple function that returns an HTML string.</li>
<li>The view&#39;s base element is replaced (or created) during a render. So, rather than having to specify tag type and attributes in javascript in the view definition you can just include that in your template like everything else.</li>
<li>A way to render a collection of models within an element in the view, each with their own view, preserving order, and doing proper cleanup when the main view is removed.</li>
<li>A simple way to render sub-views that get cleaned up when the parent view is removed.</li>
</ol>
<a name="ampersand-view-install" class="anchor" href="#ampersand-view-install"><h2><span class="header-link"></span>Install</h2></a><pre><code>npm install ampersand-view
</code></pre><a name="ampersand-view-api-reference" class="anchor" href="#ampersand-view-api-reference"><h2><span class="header-link"></span>API Reference</h2></a><p>Note that this is a fork of Backbone&#39;s view so most of the public methods/properties here still exist: http://backbonejs.org/#View</p>
<a name="ampersand-view-extend-codeampersandviewextendpropertiescode" class="anchor" href="#ampersand-view-extend-codeampersandviewextendpropertiescode"><h3><span class="header-link"></span>extend <code>AmpersandView.extend(properties)</code></h3></a><a name="ampersand-view-template-codeampersandviewextend-template-quotltdivgtltinputgtltdivgtquot-code" class="anchor" href="#ampersand-view-template-codeampersandviewextend-template-quotltdivgtltinputgtltdivgtquot-code"><h3><span class="header-link"></span>template <code>AmpersandView.extend({ template: &quot;&lt;div&gt;&lt;input&gt;&lt;/div&gt;&quot; })</code></h3></a><p>The <code>.template</code> is a property for the view prototype. It should either be a string of HTML or a function that returns a string of HTML/DOM element. It isn&#39;t required, but it is used as a default for calling <code>renderWithTemplate</code>.</p>
<p>The important thing to note is that <em>the returned string/HTML should not have more than one root element</em>. This is because the view code assumes that it has one and only one root element that becomes the <code>.el</code> property of the instantiated view.</p>
<a name="ampersand-view-autorender-codeampersandviewextend-autorender-true-code" class="anchor" href="#ampersand-view-autorender-codeampersandviewextend-autorender-true-code"><h3><span class="header-link"></span>autoRender <code>AmpersandView.extend({ autoRender: true })</code></h3></a><p>The <code>.autoRender</code> property lets you optionally specify that the view should just automatically render with all the defaults. This requires that you at minimum specify a <a href="#template">template</a> string of function.</p>
<p>By setting <code>autoRender: true</code> the view will simply call <code>.renderWithTemplate</code> for you (after your <code>initialize</code> method if present). So for simple views, if you&#39;ve got a few bindings and a template your whole view could just be really and declarative like this:</p>
<pre><code class="undefinedjavascript">var AmpersandView = require(&#39;ampersand-view&#39;);


module.exports = AmpersandView.extend({
    autoRender: true,
    template: &#39;&lt;div&gt;&lt;span id=&quot;username&quot;&gt;&lt;/span&gt;&lt;/div&gt;&#39;,
    bindings: {
        name: &#39;#username&#39;
    }
});
</code></pre>
<p><strong>Note:</strong> if you are using a template function (and not a string) the template function will get called with a context argument that looks like this, giving you access to <code>.model</code>, <code>.collection</code> and any other props you have defined on the view from the template.</p>
<pre><code class="undefinedjavascript">this.renderWithTemplate(this, this.template);
</code></pre>
<a name="ampersand-view-events" class="anchor" href="#ampersand-view-events"><h3><span class="header-link"></span>events</h3></a><a name="ampersand-view-bindings" class="anchor" href="#ampersand-view-bindings"><h3><span class="header-link"></span>bindings</h3></a><a name="ampersand-view-el" class="anchor" href="#ampersand-view-el"><h3><span class="header-link"></span>el</h3></a><a name="ampersand-view-constructor-codenew-ampersandviewoptionscode" class="anchor" href="#ampersand-view-constructor-codenew-ampersandviewoptionscode"><h3><span class="header-link"></span>constructor <code>new AmpersandView([options])</code></h3></a><p>The default <code>AmpersandView</code> constructor accepts an optional <code>options</code> object, and:</p>
<ul>
<li>Attaches the following options directly to the instaniated view, overriding the defaults: <code>model</code>, <code>collection</code>, <code>el</code>.</li>
<li>Sets up event bindings defined in the <code>events</code> hash.</li>
<li>Sets up the model bindings defined in the <code>bindings</code> hash.</li>
<li>Initializes any subviews defined in the <code>subviews</code> hash.</li>
<li>Calls <code>initialize</code> passing it the options hash.</li>
<li>Renders the view, if <code>autoRender</code> is true and a template is defined.</li>
</ul>
<p>Typical use-cases for the options hash:</p>
<ul>
<li>To initialize a view with an <code>el</code> <em>already</em> in the DOM, pass it as an option: <code>new AmpersandView({ el: existingElement })</code>.</li>
<li>To perform extra work when initializing a new view, override the <code>initialize</code> function in the extend call, rather than modifying the constructor, it&#39;s easier.</li>
</ul>
<a name="ampersand-view-initialize-codenew-ampersandviewoptionscode" class="anchor" href="#ampersand-view-initialize-codenew-ampersandviewoptionscode"><h3><span class="header-link"></span>initialize <code>new AmpersandView([options])</code></h3></a><p>Called by the default view constructor after the view is initialized. Overwrite initialize in your views to perform some extra work when the view is initialized. Initially it&#39;s a noop:</p>
<pre><code class="undefinedjavascript">var MyView = AmpersandView.extend({
    initialize: function (options) {
        console.log(&quot;The options are:&quot;, options);
    }
});

var view = new MyView({ foo: &#39;bar&#39; });
//=&gt; logs &#39;The options are: {foo: &quot;bar&quot;}&#39;
</code></pre>
<a name="ampersand-view-render-codeviewrendercode" class="anchor" href="#ampersand-view-render-codeviewrendercode"><h3><span class="header-link"></span>render <code>view.render()</code></h3></a><p>Render is a part of the <a href="???">Ampersand View conventions</a>. You can override the default view method when extending AmpersandView if you wish, but as part of the conventions, calling render should:</p>
<ul>
<li>Create a <code>this.el</code> property if the view doesn&#39;t already have one, and populate it with your view template</li>
<li>or if the view already has a <code>this.el</code> attribute, render should either populate it with your view template, or create a new element and replace the existing <code>this.el</code> if it&#39;s in the DOM tree.</li>
<li>Not be a problem if it&#39;s called more than once.</li>
</ul>
<p>The default render looks like this:</p>
<pre><code class="undefinedjavascript">render: function () {
    this.renderWithTemplate(this);
    return this;
}
</code></pre>
<a name="ampersand-view-rendercollection-codeviewrendercollectioncollection-itemview-containerel-viewoptionscode" class="anchor" href="#ampersand-view-rendercollection-codeviewrendercollectioncollection-itemview-containerel-viewoptionscode"><h3><span class="header-link"></span>renderCollection <code>view.renderCollection(collection, ItemView, containerEl, [viewOptions])</code></h3></a><ul>
<li><code>collection</code> {Backbone Collection} The instantiated collection we wish to render.</li>
<li><code>itemViewClass</code> {View Constructor} The view constructor that will be instantiated for each model in the collection. This view will be instantiated with a reference to the model and collection and the item view&#39;s <code>render</code> method will be called with an object containing a reference to the containerElement as follows: <code>.render({containerEl: &lt;&lt; element &gt;&gt;})</code>.</li>
<li><code>containerEl</code> {Element} The element that should hold the collection of views.</li>
<li><code>viewOptions</code> {Object} [optional] Additional options <ul>
<li><code>viewOptions</code> {Object} Options object that will get passed to the <code>initialize</code> method of the individual item views.</li>
<li><code>filter</code> {Function} [optional] Function that will be used to determine if a model should be rendered in this collection view. It will get called with a model and you simply return <code>true</code> or <code>false</code>.</li>
<li><code>reverse</code> {Boolean} [optional] Convenience for reversing order in which the items are rendered.</li>
</ul>
</li>
</ul>
<p>This method will maintain this collection within that container element. Including proper handling of add, remove, sort, reset, etc.</p>
<p>Also, when the parent view gets <code>.remove()</code>&#39;ed any event handlers registered by the individual item views will be properly removed as well.</p>
<p>Each item view will only be <code>.render()</code>&#39;ed once (unless you change that within the item view itself).</p>
<a name="ampersand-view-example" class="anchor" href="#ampersand-view-example"><h4><span class="header-link"></span>Example:</h4></a><pre><code class="undefinedjavascript">// some view for individual items in the collection
var ItemView = AmpersandView.extend({ ... });

// the main view
var MainView = AmpersandView.extend({
    template: &#39;&lt;section class=&quot;page&quot;&gt;&lt;ul class=&quot;itemContainer&quot;&gt;&lt;/ul&gt;&lt;/section&gt;&#39;,
    render: function (opts) {
        // render our template as usual
        this.renderWithTemplate(this);

        // call renderCollection with these arguments:
        // 1. collection
        // 2. which view to use for each item in the list
        // 3. which element within this view to use as the container
        // 4. options object (not required):
        //      {
        //          // function used to determine if model should be included
        //          filter: function (model) {},
        //          // boolean to specify reverse rendering order
        //          reverse: false,
        //          // view options object (just gets passed to item view&#39;s `initialize` method)
        //          viewOptions: {}
        //      }
        this.renderCollection(this.collection, ItemView, this.$(&#39;.itemContainer&#39;)[0], opts);
        return this;
    }
})
</code></pre>
<a name="ampersand-view-registersubview-codeviewregistersubviewviewinstancecode" class="anchor" href="#ampersand-view-registersubview-codeviewregistersubviewviewinstancecode"><h3><span class="header-link"></span>registerSubview <code>view.registerSubview(viewInstance)</code></h3></a><ul>
<li>viewInstance {Object} Any object with a &quot;remove&quot; method, typically an instantiated view. But doesn&#39;t have to be, it can be anything with a remove method. The remove method doesn&#39;t have to actually remove itself from the DOM (since the parent view is being removed anyway), it is generally just used for unregistering any handler that it set up.</li>
</ul>
<a name="ampersand-view-rendersubview-codeviewrendersubviewviewinstance-containerelcode" class="anchor" href="#ampersand-view-rendersubview-codeviewrendersubviewviewinstance-containerelcode"><h3><span class="header-link"></span>renderSubview <code>view.renderSubview(viewInstance, containerEl)</code></h3></a><ul>
<li>viewInstance {Object} Any object with a <code>.remove()</code>, <code>.render()</code> and an <code>.el</code> property that is the DOM element for that view. Typically this is just an instantiated view. </li>
<li>containerEl {Element | String | jQueryElement} This can either be an actual DOM element or a CSS selector string such as <code>.container</code>. If a string is passed human view runs <code>this.$(&quot;YOUR STRING&quot;)</code> to try to grab the element that should contain the sub view.</li>
</ul>
<p>This method is just sugar for the common use case of instantiating a view and putting in an element within the parent.</p>
<p>It will:</p>
<ol>
<li>fetch your container (if you gave it a selector string)</li>
<li>register your subview so it gets cleaned up if parent is removed and so <code>view.parent</code> will be available when your subview&#39;s <code>render</code> method gets called</li>
<li>call the subview&#39;s <code>render()</code> method</li>
<li>append it to the container</li>
<li>return the subview</li>
</ol>
<pre><code class="undefinedjs">var view = AmpersandView.extend({
    template: &#39;&lt;li&gt;&lt;div class=&quot;container&quot;&gt;&lt;/div&gt;&lt;/li&gt;&#39;,
    render: function () {
        this.renderWithTemplate();

        //...

        var model = this.model;
        this.renderSubview(new SubView({
            model: model
        }), &#39;.container&#39;);

        //...

    }
});
</code></pre>
<a name="ampersand-view-renderwithtemplate-codeviewrenderwithtemplatecontext-templatecode" class="anchor" href="#ampersand-view-renderwithtemplate-codeviewrenderwithtemplatecontext-templatecode"><h3><span class="header-link"></span>renderWithTemplate <code>view.renderWithTemplate([context], [template])</code></h3></a><ul>
<li><code>context</code> {Object | null} [optional] The context that will be passed to the template function, usually it will be passed the view itself, so that <code>.model</code>, <code>.collection</code> etc are available.</li>
<li><code>template</code> {Function | String} [optional] A function that returns HTML or a string of HTML.</li>
</ul>
<p>This is shortcut for the default rendering you&#39;re going to do in most every render method, which is: use the template property of the view to replace <code>this.el</code> of the view and re-register all handlers from the event hash and any other binding as described above.</p>
<pre><code class="undefinedjavascript">var view = AmpersandView.extend({
    template: &#39;&lt;li&gt;&lt;a&gt;&lt;/a&gt;&lt;/li&gt;&#39;,
    bindings: {
        &#39;name&#39;: &#39;a&#39;
    },
    events: {
        &#39;click a&#39;: &#39;handleLinkClick&#39;
    },
    render: function () {
        // this does everything
        // 1. renders template
        // 2. registers delegated click handler
        // 3. inserts and binds the &#39;name&#39; property
        //    of the view&#39;s `this.model` to the &lt;a&gt; tag.
        this.renderWithTemplate();
    }
});
</code></pre>
<a name="ampersand-view-get-codeviewget39classname39code" class="anchor" href="#ampersand-view-get-codeviewget39classname39code"><h3><span class="header-link"></span>get <code>view.get(&#39;.classname&#39;)</code></h3></a><p>Runs a <a href="https://developer.mozilla.org/en-US/docs/Web/API/document.querySelector"><code>querySelector</code></a> scoped within the view&#39;s current element (<code>view.el</code>), returning the first matching element in the dom-tree.</p>
<pre><code class="undefinedjavascript">var view = AmpersandView.extend({
    template: &#39;&lt;li&gt;&lt;img role=&quot;avatar&quot; src=&quot;&quot;&gt;&lt;/li&gt;&#39;,
    render: function () {
        this.renderWithTemplate(this);

        // cache an element for easy reference by other methods
        this.imgEl = this.get(&quot;[role=avatar]&quot;);

        return this;
    }
});
</code></pre>
<a name="ampersand-view-getbyrole-codeviewgetbyrole39rolename39code" class="anchor" href="#ampersand-view-getbyrole-codeviewgetbyrole39rolename39code"><h3><span class="header-link"></span>getByRole <code>view.getByRole(&#39;rolename&#39;)</code></h3></a><p>A convenience method for retrieving an element from the current view by role. Using the role attribute is a nice way to separate javascript view hooks/bindings from class/id selectors that are being used by css:</p>
<pre><code class="undefinedjavascript">var view = AmpersandView.extend({
    template: &#39;&lt;li&gt;&lt;img class=&#39;avatar-rounded&#39; role=&quot;avatar&quot; src=&quot;&quot;&gt;&lt;/li&gt;&#39;,
    render: function () {
        this.renderWithTemplate(this);

        // cache an element for easy reference by other methods
        this.imgEl = this.getByRole(&#39;avatar&#39;);

        return this;
    }
});
</code></pre>
<a name="ampersand-view-getall-codeviewgetall39classname39code" class="anchor" href="#ampersand-view-getall-codeviewgetall39classname39code"><h3><span class="header-link"></span>getAll <code>view.getAll(&#39;.classname&#39;)</code></h3></a><p>Runs a <a href="https://developer.mozilla.org/en-US/docs/Web/API/document.querySelectorAll"><code>querySelectorAll</code></a> scoped within the view&#39;s current element (<code>view.el</code>), returning all the matching elements in the dom-tree.</p>
<a name="ampersand-view-cacheelements-codeviewcacheelementshashcode" class="anchor" href="#ampersand-view-cacheelements-codeviewcacheelementshashcode"><h3><span class="header-link"></span>cacheElements <code>view.cacheElements(hash)</code></h3></a><p>A shortcut for adding reference to specific elements within your view for access later. This is avoids excessive DOM queries and makes it easier to update your view if your template changes.</p>
<p>In your <code>render</code> method. Use it like so:</p>
<pre><code class="undefinedjavascript">render: function () {
  this.renderWithTemplate(this);

  this.cacheElements({
    pages: &#39;#pages&#39;,
    chat: &#39;#teamChat&#39;,
    nav: &#39;nav#views ul&#39;,
    me: &#39;#me&#39;,
    cheatSheet: &#39;#cheatSheet&#39;,
    omniBox: &#39;[role=omnibox]&#39;
  });

  return this;
}
</code></pre>
<p>Then later you can access elements by reference like so: <code>this.pages</code>, or <code>this.chat</code>.</p>
<a name="ampersand-view-listentoandrun-codeviewlistentoandrunobject-eventsstring-callbackcode" class="anchor" href="#ampersand-view-listentoandrun-codeviewlistentoandrunobject-eventsstring-callbackcode"><h3><span class="header-link"></span>listenToAndRun <code>view.listenToAndRun(object, eventsString, callback)</code></h3></a><p>Shortcut for registering a listener for a model and also triggering it right away.</p>
<a name="ampersand-view-remove-codeviewremovecode" class="anchor" href="#ampersand-view-remove-codeviewremovecode"><h3><span class="header-link"></span>remove <code>view.remove()</code></h3></a><a name="ampersand-view-animateremove-codeviewanimateremovecode" class="anchor" href="#ampersand-view-animateremove-codeviewanimateremovecode"><h3><span class="header-link"></span>animateRemove <code>view.animateRemove()</code></h3></a><a name="ampersand-view-delegateevents-codeviewdelegateeventseventscode" class="anchor" href="#ampersand-view-delegateevents-codeviewdelegateeventseventscode"><h3><span class="header-link"></span>delegateEvents <code>view.delegateEvents([events])</code></h3></a><a name="ampersand-view-undelegateevents-codeviewundelegateeventscode" class="anchor" href="#ampersand-view-undelegateevents-codeviewundelegateeventscode"><h3><span class="header-link"></span>undelegateEvents <code>view.undelegateEvents()</code></h3></a><a name="ampersand-view-changelog" class="anchor" href="#ampersand-view-changelog"><h2><span class="header-link"></span>Changelog</h2></a><ul>
<li>1.6.3 <a href="https://github.com/HenrikJoreteg/ampersand-view/compare/v1.6.2...v1.6.3">diff</a> - Move throw statment for too many root elements inside non <code>&lt;body&gt;</code> case.</li>
<li>1.6.2 <a href="https://github.com/HenrikJoreteg/ampersand-view/compare/v1.6.1...v1.6.2">diff</a> - Make <code>getByRole</code> work even if <code>role</code> attribute is on the root element. Throws an error if your view template contains more than one root element.</li>
<li>1.6.1 <a href="https://github.com/HenrikJoreteg/ampersand-view/compare/v1.6.0...v1.6.1">diff</a> - Make sure renderSubview registers the subview first, so it has a <code>.parent</code> before it calls <code>.render()</code> on the subview.</li>
<li>1.6.0 <a href="https://github.com/HenrikJoreteg/ampersand-view/compare/v1.5.0...v1.6.0">diff</a> - Adding <code>getByRole</code> method</li>
<li>1.5.0 - Adding bower.json, adding missing dev dependencies, other small bugfixes.</li>
<li>1.4.1 - Removing elements without using jQuery&#39;s <code>.empty()</code> in renderCollection. (fixes: https://github.com/HenrikJoreteg/ampersand-view/issues/13)</li>
<li>1.4.0 - Adding <code>parent</code> reference to subviews registered via registerSubview</li>
</ul>
</div>
        </section>
        <section class="module"><a name="ampersand-view-switcher" href="#ampersand-view-switcher" class="anchor">
            <h1>Ampersand View Switcher</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand-view-switcher</h4>
            <p class="module-version">latest v0.3.1</p>
            <p class="module-description">A utility for swapping out views inside a container element.</p>
            <p class="module-links"><a href="https://github.com/ampersandjs/ampersand-view-switcher">github</a><a href="https://www.npmjs.org/package/ampersand-view-switcher">npm</a></p>
          </div>
          <div><p>This module does one thing: <em>it helps you swap out views inside of an element</em>. It&#39;s compatible with ampersand-view, backbone views and any view that has an <code>.el</code>, <code>.render</code> and <code>.remove()</code></p>
<p>What might you do with it?</p>
<ul>
<li>build a page container for your app.</li>
<li>build a system for managing display of modals in your single page app.</li>
<li>animate a transition between showing any two views.</li>
</ul>
<p>What it does</p>
<ul>
<li>Takes an instantiated view and renders it in the container.</li>
<li>Removes the existing view from the container and calls <code>remove</code> on it.</li>
<li>Makes it easy to do custom stuff as views are added and removed.</li>
<li>Works either synchronously or asynchronously depending on whether you want to animate transitions between the views.</li>
<li>Makes no assumptions about what your views do or how they&#39;re structured except the following:<ul>
<li>Views should have an <code>.el</code> property that is the root element of the view.</li>
<li>Views should have a <code>.remove()</code> method that cleans up and unbinds methods accordingly.</li>
<li>If your view has a <code>.render()</code> method it will get called before it&#39;s shown.</li>
<li>Beyond this, they could be any object.</li>
</ul>
</li>
<li>IT DOES VERY LITTLE ELSE (and <em>that</em> is a feature)</li>
</ul>
<a name="ampersand-view-switcher-install" class="anchor" href="#ampersand-view-switcher-install"><h2><span class="header-link"></span>Install</h2></a><pre><code>npm install ampersand-view-switcher
</code></pre><a name="ampersand-view-switcher-example" class="anchor" href="#ampersand-view-switcher-example"><h2><span class="header-link"></span>Example</h2></a><p>Here&#39;s an example of how you might use the view switcher to handle page views within your ampersand app.</p>
<p><code>mainview.js</code></p>
<pre><code class="undefinedjs">var HumanView = require(&#39;ampersand-view&#39;);
var ViewSwitcher = require(&#39;ampersand-view-switcher&#39;);
var templates = require(&#39;./templates&#39;);

module.exports = HumanView.extend({
    template: templates.body,
    render: function () {
        // render our template
        this.renderAndBind();

        // grab the element without our template based on its &quot;role&quot; attribute
        this.pageContainer = this.getByRole(&#39;page-container&#39;);

        // set up our page switcher for that element
        this.pageSwitcher = new ViewSwitcher(this.pageContainer, {
            // here we provide a few things we&#39;d like to do each time
            // we switch pages in the app.
            show: function (newView, oldView) {
                // set our document title
                document.title = newView.pageTitle || &#39;my awesome app&#39;;
                // scroll to the top
                document.body.scrollTop = 0;
                // perhaps store a reference to our current page on our
                // app global for easy access from the browser console.
                app.currentPage = view;
            }
        });
    } 
});
</code></pre>
<p>Or if you wanted to animate them you can do it asynchronously like so:</p>
<pre><code class="undefinedjs">// set up our page switcher for that element
this.pageSwitcher = new ViewSwitcher(this.pageContainer, {
    // whether or not to wait for remove to be done before starting show
    waitForRemove: true,
    // here we provide a few things to do before the element gets
    // removed from the DOM.
    hide: function (oldView, newView, cb) {
        // it&#39;s inserted and rendered for me so we&#39;ll add a class 
        // that has a corresponding CSS transition.
        view.el.classList.add(&#39;animateOut&#39;);
        // give it time to finish (yes there are other ways to do this)
        setTimeout(cb, 1000);
    },
    // here we provide a few things we&#39;d like to do each time
    // we switch pages in the app.
    show: function (view, oldView) {
        // it&#39;s inserted and rendered for me
        document.title = newView.pageTitle || &#39;app name&#39;;
        document.body.scrollTop = 0;

        // store an additional reference, just because
        app.currentPage = newView;

        view.el.classList.add(&#39;animateIn&#39;);
        setTimeout(cb, 2000)
    }
});
</code></pre>
<a name="ampersand-view-switcher-api-reference" class="anchor" href="#ampersand-view-switcher-api-reference"><h2><span class="header-link"></span>API Reference</h2></a><a name="ampersand-view-switcher-constructor-codenew-viewswitcherelement-optionscode" class="anchor" href="#ampersand-view-switcher-constructor-codenew-viewswitcherelement-optionscode"><h3><span class="header-link"></span>constructor <code>new ViewSwitcher(element, [options])</code></h3></a><ul>
<li><code>element</code> {Element} The DOM element that should contain the views.</li>
<li><code>options</code> {Object} [optinal]<ul>
<li><code>show</code> {Function} [optional] A function that gets called when a view is being shown. It&#39;s passed the new view, the previous view (if relevant), and a callback. If you name 3 incoming arguments for example <code>function (newView, oldView, callback) { ... }</code> the view switcher will wait for you to call the callback before it&#39;s considered ready. If you only use one or two like this: <code>function (newView, oldView) { ... }</code> it won&#39;t wait for you to call a callback.</li>
<li><code>hide</code> {Function} [optional] A function that gets called when a view is being removed. It&#39;s passed the old view, the new view (if relevant), and a callback. If you name 3 incoming arguments for example <code>function (oldView, newView, callback) { ... }</code> the view switcher will wait for you to call the callback before it&#39;s considered ready. If you only use one or two like this: <code>function (oldView, newView) { ... }</code> it won&#39;t wait for you to call a callback.</li>
<li><code>waitForRemove</code> {Boolean} [default: <code>false</code>] Whether or not to wait until your <code>hide</code> animation callback gets called before starting your <code>show</code> animation.</li>
<li><code>empty</code> {Function} [optional] A function that gets called any time the view switcher is empty. Including when you instantiate it without giving it a view to start with.</li>
<li><code>view</code> {View} [optional] A view instance to start with.</li>
</ul>
</li>
</ul>
<pre><code class="undefinedjavascript">var switcher = new ViewSwitcher(document.querySelector(&#39;#pageContainer&#39;));

var view = new MyView({ model: model });

switcher.set(view);
</code></pre>
<a name="ampersand-view-switcher-set-codeswitchersetviewinstancecode" class="anchor" href="#ampersand-view-switcher-set-codeswitchersetviewinstancecode"><h3><span class="header-link"></span>set <code>switcher.set(viewInstance)</code></h3></a><ul>
<li><code>viewInstance</code> {View} The new view to render.</li>
</ul>
<p>The instantiated view switcher has this one main method. Simply call it with the new view you wish to show.</p>
<p>This is most likely going to be an instantiated <a href="https://github.com/ampersandjs/ampersand-view">ampersand-view</a> or Backbone.View, but can be anything that has a <code>.el</code> property that represents that view&#39;s root element and <code>.remove()</code> method that cleans up after itself. In addition if your custom view object has a <code>.render()</code> method it will get called before the view is added to the DOM.</p>
<pre><code class="undefinedjavascript">var switcher = new ViewSwitcher(document.querySelector(&#39;#pageContainer&#39;));

var view = new MyView({ model: model });

switcher.set(view);
</code></pre>
<a name="ampersand-view-switcher-clear-codeswitcherclearcallbackcode" class="anchor" href="#ampersand-view-switcher-clear-codeswitcherclearcallbackcode"><h3><span class="header-link"></span>clear <code>switcher.clear(callback)</code></h3></a><ul>
<li><code>callback</code> {Function} [optional] An optional callback when removed. Useful if you&#39;re doing custom animations.</li>
</ul>
<p>Removes the current view from the view switcher. Calls <code>callback</code> when done if one was provided.`</p>
<pre><code class="undefinedjavascript">var switcher = new ViewSwitcher(document.querySelector(&#39;#pageContainer&#39;));

var view = new MyView({ model: model });

switcher.set(view);

switcher.clear();
</code></pre>
<a name="ampersand-view-switcher-changelog" class="anchor" href="#ampersand-view-switcher-changelog"><h2><span class="header-link"></span>Changelog</h2></a><ul>
<li>0.3.0 Adding empty callback, initial view option.</li>
<li>0.0.1 Initial version (prototype stage, beware)</li>
</ul>
</div>
        </section>
        <section class="module"><a name="ampersand-router" href="#ampersand-router" class="anchor">
            <h1>ampersand-router</h1></a>
          <div class="module-card">
            <h4 class="module-name">ampersand-router</h4>
            <p class="module-version">latest v1.0.0</p>
            <p class="module-description">Clientside router with fallbacks for browsers that don't support pushState. Mostly lifted from Backbone.js.</p>
            <p class="module-links"><a href="https://github.com/ampersandjs/ampersand-router">github</a><a href="https://www.npmjs.org/package/ampersand-router">npm</a></p>
          </div>
          <div><p>Clientside router with fallbacks for browsers that don&#39;t support pushState. Mostly lifted from Backbone.js.</p>
<p>Ampersand-router also adds a <code>redirectTo</code> method which is handy for doing &quot;internal&quot; redirects without breaking backbutton functionality in the browser.</p>
<a name="ampersand-router-install" class="anchor" href="#ampersand-router-install"><h2><span class="header-link"></span>install</h2></a><pre><code>npm install ampersand-router
</code></pre><a name="ampersand-router-example" class="anchor" href="#ampersand-router-example"><h2><span class="header-link"></span>example</h2></a><pre><code class="undefinedjavascript">var Router = require(&#39;ampersand-router&#39;);


module.exports = Router.extend({
    routes: {
        &#39;&#39;: &#39;home&#39;,
        &#39;users/:id&#39;: &#39;userDetail&#39;,
        &#39;info&#39;: &#39;info&#39;
    },

    // ------- ROUTE HANDLERS ---------
    home: function () {
        this.trigger(&#39;newPage&#39;, new HomePage());
    },

    // redirect example
    userDetail: function (id) {
        var user = app.users.get(id);
        if (user) {
            this.trigger(&#39;newPage&#39;, new HomePage());
        } else {
            this.redirectTo(&#39;users&#39;);
        }
    }

    ...
}};
</code></pre>
</div>
        </section>
      </div>
    </div>
    <footer class="footer-main">
      <nav class="nav-footer"><a href="/docs" class="nav-item">Get Started</a><a href="/learn" class="nav-item">Learn</a><a href="/docs" class="nav-item">Docs</a><a href="http://tools.ampersandjs.com" class="nav-item">Find Modules</a><a href="/contribute" class="nav-item">Contribute</a><a href="https://github.com/ampersandjs" class="nav-item">Github</a><a href="https://twitter.com/ampersandjs" class="nav-item">Twitter</a></nav>
      <p>Sponsored by <a href="https://andyet.com">&amp;yet </a><br>with the help of our <a href="/contribute">contributors</a></p><a href="/" class="logo logo-ampersand-gray">&amp;</a>
    </footer>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44685415-1', 'humanjavascript.com');
      ga('send', 'pageview');
      
    </script>
    <script src="/static/js/highlight.pack.js"></script>
    <script>
      // init code highlighting
      Array.prototype.forEach.call(document.querySelectorAll('pre'), function (pre) {
        var codeEl = pre.firstChild;
        codeEl.innerHTML = hljs.highlightAuto(codeEl.innerText, ['javascript']).value;
      });
    </script>
  </body>
</html>